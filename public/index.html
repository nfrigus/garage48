<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="/main.css">
<title>WatchBird</title>

<div id="app" class="app" v-cloak>
  <div v-if="!user">
    <form v-on:submit.prevent="login">
      <input name="login" placeholder="Enter username">
      <button
        type="submit"
        class="btn waves-effect waves-light"
        click="waves-effect waves-light btn"
      >Sign in
      </button>
    </form>
  </div>
  <div v-if="user" class="WBChat">
    <div class="WBChat-MessageBox">
      <div v-bind:class="{WBMsg: 1, 'WBMsg-sent': user === msg.sender }" v-for="msg in messages">
        <div class="WBMsg-balloon">
          <div class="WBMsg-body">
            <div class="WBMsg-alert" v-if="msg.warning">
              <i class="material-icons">warning</i>
            </div>
            {{ msg.msg }}
          </div>
          <div class="WBMsg-panel">
            <div class="WBMsg-panel-item WBMsg-author">{{ msg.sender }}</div>
          </div>
        </div>
      </div>
    </div>

    <form v-on:submit.prevent="sendMessage" class="WBChat-MsgForm">
      <input v-model="message" autocomplete="off">
      <button
        type="submit"
        class="btn waves-effect waves-light"
        click="waves-effect waves-light btn"
      >Send
      </button>
    </form>
  </div>
</div>


<script src="https://unpkg.com/vue"></script>
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script src="watchbird.js"></script>
<script src="app.js"></script>
